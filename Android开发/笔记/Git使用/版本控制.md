
# Version Control
在本课程中，您将学习现代软件开发人员如何在全球范围内进行协作，而不会搞乱彼此的代码。您将了解不同的版本控制系统以及如何创建有效的软件开发工作流程。您将介绍一些最常用的 Linux 命令，可以用来处理硬盘上的文件并创建强大的工作流程，以自动化您的工作，节省时间和精力。最后，您将了解 Git 如何在软件开发项目中用于管理团队文件，您将创建一个可以管理代码修订的代码库。

完成本课程后，您将能够：
- 实施版本控制系统。
- 使用命令行进行导航和配置。
- 管理代码修订。
- 创建和使用 GitHub 代码库。
在本课程中，您将通过学习和探索以下模块和资源来为考试做好准备：

## 以下是本课程涵盖的模块概述：

### 模块 1：软件协作
在本模块中，您将学习使用版本控制或子版本控制来为可能出现错误和漏洞的大型软件项目带来秩序。您将了解不同的版本控制系统以及如何创建有效的软件开发工作流程。

完成本模块后，您将能够：

- 描述现代软件团队如何协作并共同工作在同一代码库上。
- 列举不同的版本控制系统和方法论。
- 说明标准的软件开发工作流程。
### 模块 2：命令行
在本模块中，您将学习如何使用命令行在 Linux 中执行命令。您将介绍一些最常用的命令，用于在硬盘上遍历、创建、重命名和删除文件。您将学习如何使用管道和重定向来创建强大的工作流程，以自动化您的工作，节省时间和精力。

完成本模块后，您将能够：

- 描述命令行是什么以及如何使用。
- 通过命令行遍历硬盘。
- 使用 Unix 命令在硬盘上创建、重命名和删除文件和文件夹。
- 使用管道和重定向。
### 模块 3：Git
本模块将帮助您建立对 Git 技术的强大概念理解，以及它在软件开发项目中如何用于管理团队文件。您将安装 Git，创建一个本地代码库，创建一个提交，创建一个远程代码库，并将提交推送到远程代码库。

完成本模块后，您将能够：

- 概述 Git 的原则。
- 使用 GitHub 代码库。
- 描述标准 GitHub 工作流程的步骤。
- 创建分支并合并不同的分支和源代码。
- 描述代码是如何从本地开发到版本控制，然后到实际生产环境的。
### 模块 4：评估考核
在最后一个模块中，您将了解评估考核。在完成本模块中的各个单元后，您将综合运用课程中所学的技能来管理 GitHub 上的一个项目。
您还将有机会反思课程内容和未来的学习路径。
完成本模块后，您将能够：

- 回顾本课程涵盖的所有主题。
- 在一个评估项目中应用所学的所有技能。

# 版本控制的历史
正如你现在所知，版本控制是一种记录文件或一组文件随时间变化的系统，以便您以后可以访问特定版本。在软件开发中，版本控制系统（VCS）允许开发人员管理对其代码的更改并跟踪每个更改的作者。但是这个软件是如何诞生的呢？
版本控制有着悠久的历史，可以追溯到 20 世纪 80 年代。事实上，版本控制系统是在互联网之前就被创建出来的！
最早的重要版本控制系统之一是并发版本系统（CVS）。它最早于 1986 年由沃尔特·F·蒂奇在普渡大学开发，并于 1990 年公开发布。
CVS 存储有关文件夹结构中每个文件的信息，包括文件名、在文件夹结构中的位置、最后修改者以及最后修改时间。CVS 还存储有关文件夹的信息，包括它们的名称和创建者。
它在很多年里都很受欢迎，但它的设计存在一些重大缺陷。CVS 不包括完整性检查，这意味着您的数据可能会损坏。当您更新或提交更改到系统时，如果发生错误，系统会接受部分或损坏的文件。此外，该系统主要设计用于文本文件，而不是二进制文件，如图像或视频。
CVS 的主要继任者是 Subversion（SVN）。
CollabNet 于 2000 年开发了 Subversion，并解决了 CVS 中存在的许多问题。为了确保数据完整性，它在设计中包括完整性检查。它还比 CVS 更好地支持二进制文件的版本控制。由于这些改进，SVN 在开源社区中变得流行起来，谷歌和 SourceForge 为开源项目提供免费托管。
然而，Subversion 使用了集中式 VCS 模型。这意味着所有操作都必须使用集中式服务器完成。如果服务器宕机或速度慢，这将妨碍开发。
2005 年，开始了两个新项目来开发分布式版本控制系统：Mercurial 和 Git。这两个项目是作为对涉及 Linux 内核开发的事件的回应而创建的。
此前，Linux 内核使用的是一个名为 BitKeeper 的专有 VCS。BitKeeper 最早于 2000 年发布，是最早的分布式版本控制系统之一。BitKeeper 最初向 Linus Torvalds 提供了免费许可证来支持 Linux 的开发。然而，在 2005 年，许可证被撤销。这一争议导致了 Mercurial 和 Git 项目的诞生。
Mercurial 由 Olivia Mackall 开发。它是一个高性能的分布式 VCS。许多提供 Subversion 托管的平台开始提供 Mercurial 托管。由于托管提供商和其小的学习曲线，Subversion 用户发现过渡到 Mercurial 存储库很容易。
Git 由 Linus Torvalds 开发，用于托管 Linux 内核的源代码。与 Mercurial 一样，它是一个分布式 VCS。它的第一个公开发布是在2007年。
由于其分布式 VCS 设计和 Github 为开源项目提供免费 Git 托管，Git 在开源社区中变得流行起来。Git 自此成为许多开源和专有软件项目选择的版本控制系统。



# 专业软件开发中的版本控制
版本控制在软件开发中起着至关重要的作用。作为开发人员，您将与其他开发人员一起合作，为客户交付软件。根据角色的不同，您可能会与一个小团队的 2 或 3 名开发人员在一个项目中工作，或者与跨多个项目的大团队合作。无论是哪种情况，版本控制都将是帮助您的团队取得成功的关键工具。

然而，版本控制必须与其他工具和流程相结合，以确保软件开发过程中的质量和效率。在本课程中，我们将探讨开发人员与版本控制结合使用的一些常见工具和策略。

## 工作流程
在没有适当的工作流程的情况下使用版本控制就像在没有交通信号灯的城市中建造一样；没有适当的管理，一切都会变得混乱不堪。
例如，假设您正在处理一个大型项目并编辑一个文件。另一个开发人员也开始编辑该文件。你们两个同时将文件提交到版本控制系统。现在出现了冲突！该如何解决冲突？一个良好的工作流程将有一个解决冲突的过程。
另一个例子是当一个新的初级开发人员加入您的团队时。如果项目代码用于关键系统，允许他们直接提交代码更改是有风险的。为了解决这个问题，许多开发人员使用同行评审系统，在合并之前，另一个开发人员必须审查代码。
工作流程对于确保代码正确管理和减少错误非常重要。不同的项目将有不同的工作流程。在本课程中，您将学习使用 Git 版本控制系统的一些常见工作流程。
## 持续集成
持续集成（CI）用于自动将多个开发人员的代码更改集成到一个主要流中。通过频繁合并小的更改，通常每天多次，可以减少合并冲突的数量。
这个过程在测试驱动的软件开发策略中非常普遍。CI 通常用于在每次代码更改时自动编译项目并运行测试，以确保构建保持稳定，并防止功能退化。
## 持续交付
持续交付是持续集成的延伸。一旦更改已合并到主流中，持续交付系统会自动打包应用程序并准备部署。这有助于在打包应用程序时避免人为错误。
## 持续部署
持续部署是持续交付的延伸。持续部署的目标是频繁且安全地向客户部署和发布软件。该策略通常涉及首先自动部署到测试（也称为暂存）环境，以验证部署包和软件更改。一旦验证通过，它可以自动部署到实际（也称为生产）环境供客户使用。
## 结论
通过这些工具和流程，我们可以了解到软件是如何从开发人员编写代码到部署给客户使用的。当然，运行实际软件服务还有很多其他方面，但这是另一天的课程。



# 分阶段与生产  Staging vs. Production

## 开发环境 Development Environments
每个开发团队在发布新功能或更改之前，都需要验证他们发布的代码不会引起任何问题或错误。为了实现这一点，他们通常会设置多个环境进行不同方式的测试和验证。一个常见的做法是团队拥有一个开发环境，一个 UAT 或 QA 环境，以及一个分阶段环境。这个流程的主要目的是找出由于对代码库添加更改或新功能而可能出现的潜在问题。测试更改的方式越多，引入错误的可能性就越小。

## 分阶段 Staging


分阶段环境应该模拟您的生产环境。这是因为您希望在与生产环境相匹配的环境中测试代码。这使得团队能够在进入生产环境之前发现任何潜在问题。分阶段环境与生产环境越接近，测试的准确性就越高。分阶段环境还可以用于测试和验证新功能，并允许包括 QA 或利益相关者在内的其他团队查看和使用这些功能作为预试。分阶段还应涵盖应用程序的所有架构领域，包括数据库和可能需要的任何其他服务。受益于分阶段环境的领域包括：

### 新功能
开发人员提交新功能以及用于打开和关闭功能的功能标志时，应始终在分阶段环境中进行测试。它们允许团队验证功能是否正常工作，是否可以通过配置标志打开和关闭，以及是否会破坏或干扰现有功能。
### 测试
由于分阶段环境模拟了生产环境，因此它也是运行测试的理想场所。QA 团队通常会使用它来验证新功能、配置更改或软件更新/修补。涵盖的测试类型包括单元测试、集成测试和性能测试。除了性能测试，所有测试都可以在生产环境中进行。性能测试也可以在生产环境中完成，但只能在特定时间进行，通常是在非工作时间，因为它会对用户体验产生重大影响。

有时候，由于成本或时间的原因，无法完全复制生产环境。某些领域可以被削减 - 例如，如果您的服务在生产环境中是在 10 台虚拟机上进行负载均衡，那么在分阶段环境中仍然可以有 4 台虚拟机。底层架构是相同的，但整体性能可能会有所不同。
### 迁移
分阶段是测试和验证数据迁移的理想场所。可以从生产环境中获取快照，并用于测试迁移脚本以确认更改不会破坏任何内容。如果出现问题，只需回滚并重试。在生产环境中执行迁移等操作极其危险且容易出错。
### 配置更改
配置也可能给团队带来麻烦，特别是在大型基于云的架构中。拥有分阶段环境将使您能够发现任何潜在问题或瓶颈。
## 生产  Production

生产环境是实时的。它对外展示给人们看和/或与之交互。您可能遇到的任何问题或困难应该在分阶段环境中被发现和修复。分阶段区域为团队提供了一个安全网，以捕捉这些可能的问题。部署到生产环境的任何代码在部署之前都应经过测试和验证。

### 停机时间
对于任何服务，尤其是面向客户的服务，停机时间很可能会对收入产生影响。如果客户无法访问或使用您的网站或应用程序的全部功能，这很可能会带来成本。以电子商务公司为例，该公司允许用户在线购买商品和服务。如果他们发布一个新功能到购物车，而该功能实际上破坏了付款流程，这将影响到客户无法在线购买商品。
### 漏洞
网络安全在发布到生产环境中的内容中也应起到重要作用。应检查和验证软件的任何更新，如修补程序或升级到最新版本。这也适用于在发布关键更新时不升级软件的规则。
### 声誉
生产环境中的停机时间或问题对公司来说是有害的，因为它不会给最终用户带来信心。如果某个功能无法使用或出现故障，可能会导致公司失去潜在客户。